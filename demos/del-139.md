## Sprint DEL-139

### [VuNH] ðŸš€ [DELIANY-2641](https://deliany.youtrack.cloud/issue/DELIANY-2641) [Bug][BackOffice] Warehouse Location Types Incorrectly Displayed in Delivery/Pick-up Filter

  <img width="600" alt="image" src="https://github.com/user-attachments/assets/303629fa-5ce7-4865-aba7-8c67256c0ce5" />

### [VuNH] ðŸš€ [DELIANY-2824](https://deliany.youtrack.cloud/issue/DELIANY-2824) [Bug][BackOffice] The system does not automatically turn off expired campaigns

### [VuNH] ðŸš€ [DELIANY-2814](https://deliany.youtrack.cloud/issue/DELIANY-2814) Update page title to display new domain norra.ai

### [VuNH] ðŸš€ [DELIANY-2825](https://deliany.youtrack.cloud/issue/DELIANY-2825) Implement batch unique identifier system

  <img width="600" alt="image" src="https://github.com/user-attachments/assets/707b011f-4182-49d1-bcd4-3e609ed95fcc" />  

### [VuNH] [DELIANY-2846](https://deliany.youtrack.cloud/issue/DELIANY-2846) [Bug] Inconsistent discount voucher amount between Split Bill and Invoice

### [VuNH] [DELIANY-2860](https://deliany.youtrack.cloud/issue/DELIANY-2860) Implement Fast sending invoice integration interface

<br />
<br />

### [Nam] ðŸš€ [DELIANY-2823](https://deliany.youtrack.cloud/issue/DELIANY-2823) Add procurement order audit log

- [x] Add `Audit Log Tab` in Procurement Order Details
- [x] Add `Audit Log Details` modal for single changes

<img width="800" src="https://github.com/user-attachments/assets/e8639356-481d-4ba4-9a8b-5afda53bd299" />

<img width="800" src="https://github.com/user-attachments/assets/91bf2c58-1ad0-4c43-870f-a01deb21af03" />

### [Nam] ðŸš€ Fix cannot remove avatars

- [x] ðŸš€ [DELIANY-2823](https://deliany.youtrack.cloud/issue/DELIANY-2823) Cannot remove product avatar
- [x] ðŸš€ [DELIANY-2608](https://deliany.youtrack.cloud/issue/DELIANY-2608) Cannot remove company avatar

### [Nam] ðŸš€ [DELIANY-2747](https://deliany.youtrack.cloud/issue/DELIANY-2747) Fix wrong cart total display

Cart total displays 'NaN Ä‘' for first-time users adding initial product on mobile view

<img width="400" src="https://github.com/user-attachments/assets/62946a2a-d9d5-4aab-9185-dc4e1d621fa7" />

### [Nam] ðŸš€ Slightly improved searching with full-text search

Enable accent-insensitive search across content â€” users can now search without needing to type accents on characters, making search more natural and user-friendly.

- Enabled PostgreSQLâ€™s `unaccent` extension to strip diacritics at query time.
- Search now matches results regardless of Vietnamese accents (e.g., searching `ca phe` will match both `cÃ  phÃª` and `ca phe sua da`).

#### Implementation Strategy

Instead of always imposing unaccented matches, we can favor exact accent-sensitive matches when they are available and gently fall back to unaccented matches if none are discovered.

**1. Mechanisms for scoring and ranking**

Assign a score to each potential matched token:

- `1.0` â†’ Exact match (accent-sensitive)
- `0.5` â†’ Unaccented match only

**2. Use full-text search with rankings**

- ~Create `tsvector` columns with both original and unaccented content~
- Use `ts_rank_cd()` to compute relevance
- Prefer accurate phrase matches (with accent) in **lexeme** weighting
