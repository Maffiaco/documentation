## Sprint DEL-145

### [QH] 🚀 [DELIANY-3020](https://deliany.youtrack.cloud/issue/DELIANY-3020) Selecting the number of page does not work in the Assign Table modal

- Remove size change because it's not working on this modal.

### [QH] 🚀 [DELIANY-2998](https://deliany.youtrack.cloud/issue/DELIANY-2998) Search functionality is not working/implemented in Tables Module

- Remove the search bar on the table page.

<img width="600" height="567" alt="image" src="https://github.com/user-attachments/assets/5c91da44-052a-4875-a162-155c82e66b67" />

### [QH] 🚀 [DELIANY-2994](https://deliany.youtrack.cloud/issue/DELIANY-2994) [Bug][POS] NaN displayed in Deposit/Total column for table reservations

- Issue: The issue occurred because the booking displayed on the table used the value from the old deposit field.
- Solution: Take the value from the payment and check for the 'deposit' type for this value.

<img width="600" height="566" alt="image" src="https://github.com/user-attachments/assets/a59b9cbb-e8d3-475c-bd19-6f5f5bf0bf4d" />

### Several updates to table behavior
### [QH] 🚀 [DELIANY-2995](https://deliany.youtrack.cloud/issue/DELIANY-2995) [Bug][POS] Booking Time column sort functionality is working in Assign Table modal

<img width="600" height="545" alt="image" src="https://github.com/user-attachments/assets/d40986cf-3bfa-45e0-bd52-e2e1ecec6f6d" />

### [QH] 🚀 [DELIANY-2996](https://deliany.youtrack.cloud/issue/DELIANY-2996) [Bug][POS] Auto table reassignment after adding table for unassigned reservations

- Update the table status upon executing an update action.

### [QH] 🚀 [DELIANY-2997](https://deliany.youtrack.cloud/issue/DELIANY-2997) Update copy "# of group" column header in Assign Table modal
### [QH] 🚀 [DELIANY-2999](https://deliany.youtrack.cloud/issue/DELIANY-2999) [POS] Update copy "Assign Table" in Tables
### [QH] 🚀 [DELIANY-3004](https://deliany.youtrack.cloud/issue/DELIANY-3004) [Web Order] Show VAT notice under each Category

- Display the VAT information description on the Web Order.
- Allow management to control the display with a database value.

<img width="600" height="574" alt="Screenshot 2025-10-10 at 16 57 24" src="https://github.com/user-attachments/assets/6b9825ed-a221-4c0f-bb0d-64b86903664c" />

### [QH] [DELIANY-3000](https://deliany.youtrack.cloud/issue/DELIANY-3000) [Bug][POS] Missing error message display after user attempts to cancel booking with existing items

- Enable error display on requests.
- Handle the reservation request error with an invalid statusIn.

### [QH] [DELIANY-3016](https://deliany.youtrack.cloud/issue/DELIANY-3016) [BackOffice] Display booking_order in Delivery/Pick-up module

<img width="417" height="551" alt="image" src="https://github.com/user-attachments/assets/af68cf37-c9ad-4a0d-944a-7c25c83492a5" />
<img width="600" height="659" alt="image" src="https://github.com/user-attachments/assets/732ba89c-cc60-45a2-9ad1-f075c516bce2" />

### [QH] Add the feature to move or merge tables on the Tables screen

- Add the "Rearrange Table" button when clicking on an empty table.
- Display a list of bookings/reservations that already have a table assigned.
- Allow selecting additional tables as needed.
- Execute the move or merge operation with the selected list.

<img width="600" height="537" alt="image" src="https://github.com/user-attachments/assets/287896ba-6648-45ff-a017-db7b6044d35e" />
<img width="600" height="478" alt="image" src="https://github.com/user-attachments/assets/104e0b61-4c54-4dc1-860f-798981bcc76e" />
<img width="452" height="360" alt="image" src="https://github.com/user-attachments/assets/cd93ab80-22d0-43e1-b930-aba4908f8266" />

<br />
<br />
<br />

### [VuNH] Deploy Queue staging

### [VuNH] Testing Invoice issued VNPT
  - Message Error: "Pattern hoặc serial không đúng định dạng"

### [VuNH] Testing Invoice issued VNPT

### [VuNH] 🚀 [DELIANY-3013](https://deliany.youtrack.cloud/issue/DELIANY-3013) Sync data to DFS for PowerBI

### [TP] 🚀 [DELIANY-3022](https://deliany.youtrack.cloud/agiles/131-3/current?issue=DELIANY-3022) [Improvement][POS] Show "No cutlery" tag in order detail view
  - Cause: Users don’t know which orders include dining utensils.
  - Solution: Add a “cutlery” and "no cutlery" tag to orders that include them.

<img width="1063" height="1081" alt="image" src="https://github.com/user-attachments/assets/ba7ebba1-62da-4ee6-9538-5e09315393ec" />
<img width="1074" height="1084" alt="image" src="https://github.com/user-attachments/assets/9225ecfe-997f-4747-887b-3cf700dfd9c0" />

### [TP] 🚀 Improve import product
  - [DELIANY-2725](https://deliany.youtrack.cloud/agiles/131-3/current?issue=DELIANY-2725) Cannot update imported products because of slug validation
  - [DELIANY-3005](https://deliany.youtrack.cloud/agiles/131-3/current?issue=DELIANY-3005) [Bug] Imported Prices parsed incorrectly due to decimal/thousands separators (comma “,” vs dot “.”)
  - [DELIANY-2754](https://deliany.youtrack.cloud/agiles/131-3/current?issue=DELIANY-2754) [Bug] Cannot edit Categories that missing categoryProducts.ordering
  - [DELIANY-2668](https://deliany.youtrack.cloud/agiles/131-3/current?issue=DELIANY-2668) [Bug] Broken product_outlets imported
  - Cause: The issue occurred because outlet_id was not added to product_outlet, and no default value was set for productCategory.
  - Solution: Set the default value of categoryProducts.ordering to 1, then verify and assign the corresponding outlet_id.

### [TP] [POS]Click on the order notification to display the recoil 
 - Cause: When placing a pre-order, users don’t know which date the order is scheduled for.
- Solution: When the user clicks on the notification, navigate them directly to the corresponding record (recoil).

### [Nam] 🚀 Update Sales Reports as required by business

<details>
  <summary><strong>Fixed bugs 🐛</strong></summary>
  <ul>
    <li>Fix "Net Total" + "VAT Tax" != "Final Total"</li>
    <li>Fix duplicated "UNIQUEID" value</li>
  </ul>
</details>
<details>
  <summary><strong>Add more rows and columns 📊</strong></summary>
  <ul>
    <li>Add total row to every sheets</li>
    <li>Add "VAT Tax" and "VAT Amount" column to "Transaction Detail" sheet</li>
    <li>Add "Refund" sheet as cancelled orders and voided product orders</li>
    <li>Show delivery fee as detail rows</li>
  </ul>
</details>
<details>
  <summary><strong>Update behind logics 🧐</strong></summary>
  <ul>
    <li>Get payment method from order payment</li>
    <li>Get product order price base on sales channel</li>
    <li>Calculate coupon vat amount</li>
    <li>Add delivery fee into net amount</li>
  </ul>
</details>

### [Nam] 🚀 [DELIANY-2991](https://deliany.youtrack.cloud/issue/DELIANY-2991) Fix order search bar responsive issue

Search and filter section doesn't appear to be properly optimized for small screen

_Before_

<img width="700" src="https://github.com/user-attachments/assets/74a96e91-909b-43c1-93aa-a956eebee380" />

_After_

<img width="700" src="https://github.com/user-attachments/assets/963835f3-4e6d-408c-8e58-27e38c58c776" />

### [Nam] 🚀 [DELIANY-3019](https://deliany.youtrack.cloud/issue/DELIANY-3019) Address field cleared on submit causing Order Creation failure

### [Nam] 🚀 [DELIANY-3023](https://deliany.youtrack.cloud/issue/DELIANY-3023) Users cannot view booking details with recorded Payoo payment

### [Nam] [DELIANY-2849](https://deliany.youtrack.cloud/issue/DELIANY-2849) Enhance user flow after order editing

- After changes saved, user will be redirected back to the order detail page of the edited order

### [Nam] [DELIANY-3021](https://deliany.youtrack.cloud/issue/DELIANY-3021) Multi-language for Product 🌐

- Implemented visual language indicators for multilingual product fields to improve user experience when managing products in different languages,
  helping users identify which language version they are currently editing using country flag emojis (🇺🇸 for English, 🇻🇳 for Vietnamese) with explanatory tooltip text
- Implement multi-language support for products to enable localized product information
- Update product search and fetching to work with locale-specific content
- Maintain backward compatibility with existing product data

### [Nam] [DELIANY-2977](https://deliany.youtrack.cloud/issue/DELIANY-2977) [BackOffice] Integrated Payoo in adding deposit for Bookings 💳

- Use `insertedAt` instead of `completedAt`
- Split `Action` column into `Status` and `Action` columns
- Show payment description below payment name to easily distinguish between payment types with the same name



